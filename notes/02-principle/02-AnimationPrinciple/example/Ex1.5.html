<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Multi-object motion</title>
    <script src="../../js/common.js"></script>


    <style>

        div {
            width: 100px;
            height: 100px;
            background-color: red;
            margin-bottom: 20px;
        }


    </style>


</head>
<body>


<div></div>
<div></div>
<div></div>
<div></div>


<script>


    var timer = null,
        oDivArray = document.getElementsByTagName('div');

    for (var i = 0; i < oDivArray.length; i++) {

        oDivArray[i].onmouseenter = function () {

            startMove(this, 400);
        };

        oDivArray[i].onmouseleave = function () {

            startMove(this, 100);
        };
    }

    function startMove(ele, target) {

        clearInterval(ele.timer);

        let iSpeed = null,
            iCur = null;

        ele.timer = setInterval(function () {

            iCur = parseInt(getStyle(ele, 'width'));

            iSpeed = (target - iCur) / 7;

            iSpeed = iSpeed > 0 ? Math.ceil(iSpeed) : Math.floor(iSpeed);

            if (iCur == target) {

                clearInterval(ele.timer);

            } else {

                ele.style.width = iCur + iSpeed + 'px';
            }

        }, 30);
    }


</script>


</body>
</html>