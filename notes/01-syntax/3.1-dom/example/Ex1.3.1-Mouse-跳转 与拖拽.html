<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>


<div style="width: 200px; height: 200px; background-color: red;"></div>


<script>


    /**
     * 思路:
     *
     * click 的执行顺序 onmousedown onmouseup click
     *
     * 点击元素所需事件大约需要 300 毫秒，大于 300 则是拖拽
     *
     * key 增加开关，控制是否执行 click
     *
     */


    var firstTime = 0,
        lastTime = 0,
        key = false;

    var div = document.getElementsByTagName('div')[0];


    document.onmousedown = function () {

        firstTime = new Date().getTime();
    };

    document.onmouseup = function () {

        lastTime = new Date().getTime();

        if (lastTime - firstTime > 300) {

            key = true;
        }

    };

    document.onclick = function () {

        if (key) {

            console.log('click');

            key = false;
        }
    };


</script>


</body>
</html>