# Deconstruction

> ES6 解构赋值

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/**
 * Deconstruction of ( Array & Object )
 * 
 * 
 * 数组的元素是按次序排列的，变量的取值由它的位置决定
 * 
 * 对象的属性没有次序，变量必须与属性同名，才能获取响应的值
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### Deconstruction Of Array

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 初级数组解构
 *
 * arr[index] : newName
 */


let numbers = ['a', 'b', 'c', 'd'];

const {

    3: n1,
    1: n2

} = numbers;

console.log(n1, n2);


//-------------------------------------------------------------------------------------------------------------------//


let numbers = ['a', 'b', 'c', 'd'];

/**
 * 按照顺序解构
 *
 *
 * 可以用逗号隔开空出不需要解构的位置
 */

let n1, n2;

([n1, , n2] = numbers);

console.log(n1, n2);            // a d


//-------------------------------------------------------------------------------------------------------------------//


let numbers = ['a', 'b', 'c', 'd', [11, 22, 33, 44]];

/**
 * 解构嵌套数组
 *
 *
 * 可以用逗号隔开空出不需要解构的位置
 */

let n2;

([, , , , [, , n2]] = numbers);             // 根绝指定位置解构

console.log(n2);            // a d


//-------------------------------------------------------------------------------------------------------------------//


let numbers = ['a', 'b', 'c', 'd', {name: 'alpha', age: 16, sex: 'male'}];

/**
 * 解构嵌套对象
 *
 *
 * 可以用逗号隔开空出不需要解构的位置
 */

const [, , , , {sex: gender}] = numbers;

console.log(gender);            // male


//-------------------------------------------------------------------------------------------------------------------//


const numbers = [32, 44, 5, 61, 6264];

/**
 * 解构数组的第三项，和 剩余项目的指定数组
 *
 *
 */

const [, , n1, ...num] = numbers;

console.log(n1, num);


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### Deconstruction Of Object

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


const user = {
    name: 'alpha',
    age: 16,
    sex: 'male',
    address: {

        province: 'shan xi',
        city: 'xian'
    }
};


// 原始方法
//
// let name, age, sex, address;
// name = user.name;
// age = user.age;
// sex = user.sex;
// address = user.address;


// 进阶方法
//
// let name, age, sex, address;
// ({name, age, sex, address} = user);


/**
 * 解构过程中，先定义变量，再去 user 对象中寻找同名属性的值进行赋值
 *
 *
 * 若没有找到属性，则返回 undefined
 */

// 最终方法

let {name, age, sex, address, other} = user;

console.log({name, age, sex, address, other});


//-------------------------------------------------------------------------------------------------------------------//


const user = {
    name: 'alpha',
    age: 16,
    sex: 'male',
    address: {

        province: 'shan xi',
        city: 'xian'
    }
};

/**
 *
 * 没有同名的属性值，也可以设置默认的属性值
 */


let {name, age, sex, address, other = 1000} = user;

console.log({name, age, sex, address, other});


//-------------------------------------------------------------------------------------------------------------------//



const user = {
    name: 'alpha',
    age: 16,
    sex: 'male',
    address: {

        province: 'shan xi',
        city: 'xian'
    }
};

/**
 * 解构非同名变量的对象属性名
 *
 * 已有名称 : 新变量名称
 */


let {name, age, sex : gender, address, other = 1000} = user;

console.log({name, age, gender, address, other});


//-------------------------------------------------------------------------------------------------------------------//


/**
 * 深层解构
 *
 * 利用大括号嵌套即可实现深层次解构
 */


const user = {
    name: 'alpha',
    age: 16,
    sex: 'male',
    address: {

        province: 'shan xi',
        city: 'xian'
    }
};


let {name, age, sex, address: {province : myHome}, address: {city}} = user;

console.log({name, age, sex, myHome, city});


//-------------------------------------------------------------------------------------------------------------------//


/**
 * 展开运算符可以解构剩余项
 *
 *
 */

const user = {
    name: 'alpha',
    age: 16,
    sex: 'male',
    address: {

        province: 'shan xi',
        city: 'xian'
    }
};

/**
 * 解构出除了 name 属性的剩余项存放在新的对象中
 *
 *
 */

const {name, ...obj} = user;

console.log(obj);


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### Spread operator


``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * [...arr]         // array
 * 
 * {...obj}         // object
 * 
 * 
 * 展开运算符可以展开指定数组或对象，会将指定对象或数组中的所有项都解构
 */


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### Deconstruction Usage

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/**
 * 利用解构交换变量值
 *
 *
 */

let a = 11,
    b = 22;

[b, a] = [a, b];

console.log(a, b)


//-------------------------------------------------------------------------------------------------------------------//


/**
 * 直接解构参数进行传递
 *
 *
 * 无法从 undefined & null 中解构参数       // 设置整个参数的默认值为 {}
 */

function ajax({method = 'get', url = '/'} = {}) {

    console.log(method, url);
}

ajax({
    method: 'get',
    url: 'abc'
})


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```














