# JavaScript Error

/**
 * 代码执行: 捕获( 从外而内 )
 * 
 * 报错返回: 冒泡( 由里到外 )
 */


`try` 语句使您可以测试代码块是否存在错误。

`catch` 语句使您可以处理错误。

`throw` 语句使您可以创建自定义错误。

`finally` 语句使您可以在尝试并捕获之后执行代码，而不管结果如何


## try ... catch

``` javascript
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


// try 和 catch 必须成对出现

// syntax

try {

    Block of code to try
  
} catch(err) {

    Block of code to handle errors
  
} finally {

    
}


//- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - //


try {

  Block of code to try
  
} catch(err) {

    /**
     * try 中的代码不出错，是不会执行 catch 的
     * 
     * err.name: 设置或返回一个错误的名字
     * err.message: 设置或返回一个错误信息（字符串）
     */

    console.log(err.name + ": " + err.message);
  
} finally {

    /**
     * 无论 try 和 catch 中是否执行，都会执行过 finally
     * 
     */
}


////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```


<!-- JavaScript Error info -->

| error name        | description | 
| ----------------- | ----------------- |
| EvalError         | eval(）的使用与定义不一样 |
| RangeError        | 数值越界 |
| ReferenceError    | 非法或不能识别的引用数值 |
| SyntaxError       | 发生语法解析错误 |
| TypeError         | 操作数类型错误 |
| URIError          | URI 处理函数使用不当 |


#### EvalError( 评估错误 )

一个 EvalError 指示在 eval()函数的误差

> JavaScript的较新版本不扔的EvalError, 使用的SyntaxError代替


#### RangeError( 范围错误 )

如果你使用一个数字，超出规定值的范围，将返回 RangeError

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var num = 1;

try {

  num.toPrecision(500);                             // 500 > 1 超出了 num 的位数范围

} catch(err) {

  console.log(err.name + ": " + err.message);       // ReferenceError: num is not defined
  
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### ReferenceError( 引用错误 )

如果你使用未定义变量或函数等，将返回 ReferenceError

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var x;

try {

  x = y + 1;   // y cannot be referenced (used)
  
} catch(err) {

  console.log(err.name + ": " + err.message);       // ReferenceError: y is not defined
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### SyntaxError( 语法错误 )

语法解析错误，将返回 SyntaxError

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


try {

    eval("alert('Hello)");

} catch(err) {

    console.log(err.name + ": " + err.message);     // SyntaxError: Invalid or unexpected token

}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### TypeError( 类型错误 )

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


var num = 1;

try {
    num.toUpperCase();

} catch(err) {

    console.log(err.name + ": " + err.message);     // TypeError: num.toUpperCase is not a function
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### URI（统一资源标识符）错误

在一个 URI 函数 中使用非法字符

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


try {

  decodeURI("%%%");

} catch(err) {

  console.log(err.name + ": " + err.message);       // URIError: URI malformed
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### throw

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


throw 声明允许创建一个自定义的错误

从技术上讲，你可以抛出一个异常( 抛出一个错误 )

唯一的例外可能是一个JavaScript `String`，`一个Number`，`一个Boolean` 或 `一个Object`：


//-------------------------------------------------------------------------------------------------------------------//



throw "Too big";    // throw a text

throw 500;          // throw a number


//-------------------------------------------------------------------------------------------------------------------//


// 使用 throw 一起 try 和 catch，你可以控制程序流程，并生成自定义错误消息


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```

#### finally

``` javascript
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


try {

    Block of code to try
}

catch(err) {

    Block of code to handle errors
}

finally {

    Block of code to be executed regardless of the try / catch result
}


///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
```







